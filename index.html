<!DOCTYPE html>
<html>
<head>
  <title>My Vue ToDo</title>
  <script src="https://unpkg.com/vue"></script>
  <style>
    body {
      background-color:#222222;
      color:#FFFFFF;
    }
    .item {
      padding:20px;
      font-size: 25px;
      font-family: Arial, sans-serif;
      border:2px solid #222222;
      color:#FFFFFF;
      background-color:#000000;
      width: calc(100% - 44px);
      margin-top:-1px;
      left:0px;
    } 
    .input {
      background-color: #333333;
      left:0px;
      top:0px;
      position: fixed;
      width:100%;
    } 
    .menu {
      margin-top: 80px;
    }
    input {
      font-size: 20px;
      width:calc(100% - 50px);
      margin: 20px;
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="input"><input v-model="newTodoText" v-on:keyup.enter="addTodo" placeholder="Add items"></div>
            <!--
            Vue prefers to explicitly name new variables, rather
            than implicitly creating new scopes.
            -->
            <div class="menu">
              <div class="item" v-for="(todo, index) in todos" v-on:click="removeTodo(index)">
                {{ todo.title }}
                <!--
                In general, Vue tries its best to act in very
                unsurprising ways. One example of this is that
                event callbacks in Vue behave exactly like they do
                outside of Vue. In Knockout however, it's
                surprisingly cumbersome to just pass an argument
                to a method.
                -->
            </div>
          </div>
  </div>

  <script>

    var app = new Vue({
      el: '#app',
      data: {
        todos: [],

        newTodoText: '',
      },
      // Instead of adding everything directly to the
      // instance, Vue has specific options to help
      // organize your components. Any methods are
      // registered under the "methods" options, computed
      // properties are registered under "computed", etc.
      created: function () {
        if (!localStorage.getItem("vueTodos")) {
          localStorage.setItem("vueTodos", JSON.stringify(this.todos))
         } else {
          var retrievedData = localStorage.getItem("vueTodos");
          this.todos = JSON.parse(retrievedData);
         }
      },

      methods: {
        addTodo: function () {
          // In Knockout, reactive data acts mostly like
          // plain JavaScript objects, except getting
          // and setting are done through a function call.
          // In Vue, there's no special syntax for getters
          // and setters.
          if (this.newTodoText) {
            this.todos.push({ title: this.newTodoText })
            var retrievedData = localStorage.getItem("vueTodos");
            retrievedData = JSON.parse(retrievedData);
            retrievedData.push({ title: this.newTodoText })
            localStorage.setItem("vueTodos", JSON.stringify(retrievedData))
            this.newTodoText = ''
          }
        },
        removeTodo: function (index) {
          this.todos.splice(index, 1)
//          localStorage.setItem("vueTodos", JSON.stringify(this.todos));
        }
      }
    })
    
  </script>
</body>
</html>